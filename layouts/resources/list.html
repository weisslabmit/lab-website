{{ define "main" }}
<section class="resources-section">
  <div class="content">
    <header class="major" style="text-align:center;">
      <h2>{{ .Title }}</h2>
      {{ with .Params.description }}<p class="section-desc">{{ . }}</p>{{ end }}
    </header>

    {{ $items := .Pages.ByWeight.ByTitle }}
    {{ if gt (len $items) 0 }}
      <div class="resources-grid">
        {{ range $items }}
          {{ $url := .Params.link | default .RelPermalink }}
          <a class="resource-card" href="{{ $url }}" target="_blank" rel="noopener">
            <div class="rc-media">
              {{ with .Params.image }}
                <img src="{{ . | relURL }}" alt="{{ $.Title }} icon" loading="lazy">
              {{ else }}
                <img src="/uploads/placeholder.png" alt="{{ $.Title }} icon" loading="lazy">
              {{ end }}
            </div>
            <h3 class="rc-title">{{ .Title }}</h3>
            {{ with .Params.description }}
              <p class="rc-desc">{{ . }}</p>
            {{ end }}
          </a>
        {{ end }}
      </div>
    {{ else }}
      <p>No resources yet. Check back soon.</p>
    {{ end }}
  </div>
</section>
{{ end }}
