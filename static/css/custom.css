@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');

/* Default site typography: Roboto Mono everywhere */
html, body,
h1, h2, h3, h4, h5, h6,
p, li, a, nav, button, input, textarea, select,
blockquote, figcaption, small, strong, em,
.section, .inner, .content, .major, .button, .actions, .icons {
  font-family: "Roboto Mono", monospace !important;
  font-weight: 400 !important;
  font-style: normal !important;
}


/* ======================================
   MIT Custom Styles for Hugo Story
   File: static/css/custom.css
====================================== */

/* -------------------------------
   Font definition (MIT Font)
--------------------------------*/
:root {
  --mit-font-family: "neue-haas-grotesk-display", sans-serif;
  --mit-font-weight: 700;
  --mit-font-style: normal;
}

/* -------------------------------
   Banner: full-screen hero with title + centered menu
--------------------------------*/
#banner {
  position: relative;
  width: 100%;
  min-height: 100svh;              /* full viewport height (mobile safe) */
  min-height: 100vh;
  margin: 0;
  padding: 0 1.5rem;
  display: flex;
  align-items: center;              /* centers the whole content block */
  justify-content: center;
  text-align: center;
  border: none;
  background: none;                 /* no background by default */
  overflow: hidden;
}

/* Centered banner content (title + menu) */
#banner .content {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;          /* vertical centering inside the hero */
  gap: 0rem;                     /* space between title and menu */
  padding: 0rem 1.5rem;
  max-width: 1100px;
  width: 100%;
}

/* Banner title */
#banner .content > h1,
#banner h1 {
  font-family: var(--mit-font-family) !important;
  font-weight: var(--mit-font-weight) !important;
  font-style: var(--mit-font-style) !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  line-height: 1.1;
  font-size: clamp(3.5rem, calc(2rem + 3vw), 6rem);
  letter-spacing: 0.0005em;  /* <-- adds subtle spacing between letters */
  color: #000;                      /* change to #fff if using dark bg */
  white-space: pre-line !important; /* allows <br> */
  margin-bottom: 0 !important;
}

/* Hide other theme-injected banner bits */
#banner .image,
#banner .actions,
#banner p,
#banner .button,
#banner .icons,
#banner .subtitle {
  display: none !important;
}

/* -------------------------------
   Generic body reset
--------------------------------*/
body {
  margin: 0;
  color: #222;
  background: #fff;
}
/* Responsive GWD menu iframe
   - scales only below 500px
   - fills available width (no side white space)
   - no inner scrollbars */
/* Center + scale the menu iframe correctly at all widths */
.embed-frame {
  position: relative;
  z-index: 5;
  width: 100%;
  max-width: 500px;
  aspect-ratio: 500 / 350;
  margin: 0 auto;         /* centers the wrapper itself */
  overflow: hidden;
  container-type: inline-size; /* keep for 100cqw to work */
}

.embed-frame iframe {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 500px;           /* internal stage size */
  height: 350px;
  border: 0;
  display: block;

  /* center first, then scale to wrapper width */
  transform-origin: top left;
  transform:
    translate(-50%, -50%)
    scale( clamp(0.2, calc(100cqw / 500px), 1) );
}

/* Tighten side spacing on small screens */
@media (max-width: 520px) {
  #banner {
    padding: 0;              /* no outer spacing */
  }

  #banner .content {
    padding: 0;              /* no inner spacing */
  }


  .embed-frame {
    max-width: 100%;     /* allow full device width */
  }
}
.people-section .people-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 2rem;
}
@media (max-width: 980px){ .people-section .people-grid { grid-template-columns: repeat(2,1fr); } }
@media (max-width: 600px){ .people-section .people-grid { grid-template-columns: 1fr; } }

.person-card { text-align: center; }
.person-card .image.avatar img {
  width: 200px; height: 200px; object-fit: cover; border-radius: 9999px; display: inline-block;
}
.person-card .role { font-weight: 600; opacity: .8; margin-top: -0.25rem; }

/* --- People tweaks: smaller bio + more columns on big screens --- */

/* Smaller bio text */
.person-card .bio {
  font-size: 0.875rem;      /* ~14px */
  line-height: 1.4;
  opacity: 0.9;             /* a touch quieter */
  margin-top: 0.25rem;
}

/* Make long names/roles wrap nicely */
.person-card h3,
.person-card .role {
  word-break: break-word;
}


/* Responsive grid for People cards */
.people-section .people-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 2rem;
}

@media (min-width: 640px) {   /* small screens */
  .people-section .people-grid { grid-template-columns: repeat(3, 1fr); }
}

@media (min-width: 900px) {   /* medium screens - fit 3 */
  .people-section .people-grid { grid-template-columns: repeat(4, 1fr); }
}

@media (min-width: 1280px) {  /* large screens - fit 4 */
  .people-section .people-grid { grid-template-columns: repeat(5, 1fr); }
}

@media (min-width: 1680px) {  /* extra large - fit 5 */
  .people-section .people-grid { grid-template-columns: repeat(6, 1fr); }
}

/* ======================================
   Limit global text scaling (balanced)
====================================== */
html { font-size: clamp(13px, 0.9vw + 0.45rem, 17px); }

h1, h2, h3, h4, h5, h6 {
  font-size: clamp(1rem, 0.7vw + 0.7rem, 1.8rem);
  line-height: 1.35;
}

p, li, blockquote, .content {
  font-size: clamp(0.9rem, 0.55vw + 0.5rem, 1.05rem);
  line-height: 1.55;
}

/* People fine-tune */
.people-section h3 { font-size: clamp(1rem, 0.45vw + 0.65rem, 1.4rem); }
.people-section .role,
.people-section .bio { font-size: clamp(0.85rem, 0.35vw + 0.45rem, 1rem); }


.menu-frame {
  position: relative;
}

/* White overlay covers the menu iframe */
.menu-frame__loader {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;                 /* <-- white background */
  z-index: 2;
  opacity: 1;
  transition: opacity 0.8s ease;     /* fade smoothly */
}

/* =========================================================
   Menu Spinner + Floating Nav + Section Offset
========================================================= */

.menu-frame__spinner {
  width: 200px;
  height: 200px;
  animation: menuspin 2.4s linear infinite;
}

@keyframes menuspin {
  to { transform: rotate(360deg); }
}

/* ===== Floating nav: hidden over banner, fixed after ===== */
#floating-nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  background: #000;
  color: #fff;
  transform: translateY(-100%); /* hidden by default */
  opacity: 0;
  pointer-events: none;
  transition: transform .25s ease, opacity .25s ease;
}
#floating-nav.is-visible {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}

#floating-nav .floating-nav__inner {
  max-width: 1100px;
  margin: 0 auto;
  padding: .6rem 1rem;
  display: flex;
  gap: 1.25rem;
  align-items: center;
  justify-content: center;
}

/* Baseline link style */
#floating-nav a {
  color: #fff;
  text-decoration: none;
  letter-spacing: .02em;
  opacity: .9;
  transition: opacity .2s ease, filter .2s ease;
}

html { scroll-behavior: smooth; }

/* Dim others when one is active (JS toggles .has-active) */
#floating-nav.has-active a { opacity: .45; }

/* Active link (JS adds .is-active AND inline weight 700!important) */
#floating-nav a.is-active {
  opacity: 1 !important;
  filter: brightness(1.2);
  text-decoration: none !important;
}

/* Hover: no underline, slight brighten */
#floating-nav a:hover { opacity: .95; text-decoration: none; }

/* Anchor landing: add small internal space at top of sections */
:root { --floating-nav-h: 56px; } /* tweak if your bar is taller */
section[id]:not(#banner) {
  position: relative;
  padding-top: 0.75rem; /* visible white space under the bar */
}

section[id]:not(#banner) > *:first-child { margin-top: 0 !important; }
section[id]:not(#banner) .inner { padding-top: 0 !important; margin-top: 0 !important; }

/* === Real internal top spacing for sections === */
:root { --menu-height: 56px; } /* exact height of your floating nav */

section[id]:not(#banner) {
  padding-top: calc(var(--menu-height) + 1.5rem);  /* real visible white space */
}

/* ===============================
   Timeline block inside Research
   =============================== */
.timeline-block {
  display: flex;
  justify-content: center;         /* horizontally center the inner frame */
  align-items: center;             /* vertically center it (if taller section) */
  padding: 3rem 1rem;
  background: transparent;
  text-align: center;              /* safeguard centering alignment */
}

.timeline-frame {
  position: relative;
  width: 100%;
  max-width: 1200px;               /* natural HTML size */
  aspect-ratio: 1200 / 500;
  overflow: hidden;
  margin: 0 auto;                  /* double ensure centering */
}

/* Center + scale iframe correctly */
.timeline-frame iframe {
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1200px;
  height: 500px;
  border: none;
  transform: translate(-50%, -50%)
             scale(clamp(0.2, calc(100% / 1200), 1)); /* scales responsively */
  transform-origin: center center; /* center scaling anchor */
}
